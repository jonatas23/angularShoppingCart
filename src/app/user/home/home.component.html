<p-card header="Produtos">
  <p-toast/>
  <div class="p-col-12">
    <p-table class="p-table" [value]="products" *ngIf="!loading">
      <ng-template pTemplate="header">
        <tr>
          <th>Código</th>
          <th>Nome</th>
          <th>Descrição</th>
          <th>Quantidade</th>
          <th>Valor</th>
          <th>Ação</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-product>
        <tr>
          <td>{{ product.codigo }}</td>
          <td>{{ product.name }}</td>
          <td>{{ product.descricao }}</td>
          <td>{{ product.quantidade }}</td>
          <td>{{ product.valor | currency:'BRL' }}</td>
          <td>
            <p-button icon="pi pi-shopping-cart" severity="success" [rounded]="true" pTooltip="Adicionar ao Carrinho" (click)="addToCart(product.id)"></p-button>
          </td>
        </tr>
      </ng-template>
    </p-table>

    <p-button label="Acessar Carrinho" icon="pi pi-shopping-cart" (click)="carrinho()"></p-button>

    <p-button label="Inicio" icon="pi pi-shopping-cart" (click)="index()"></p-button>

    <p-progressBar *ngIf="loading" mode="indeterminate"></p-progressBar>
    <div *ngIf="error">Erro ao carregar produtos: {{ error }}</div>
  </div>
</p-card>
